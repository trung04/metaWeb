;/*FB_PKG_DELIM*/

__d("VideoComponentPlayButton.react",["cx","fbt","VideoComponent","nullthrows","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={vpc:null},d.$2=function(){c("nullthrows")(d.state.vpc).clickVideo()},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.$1=function(a){var b=this.props.syncOnPauseVisibilityWithControls!==!0||a.getOption("VideoControls","areControlsVisible");a=a.getState();if(a==="paused"&&b||a==="ready")return!0;b=this.props.alsoVisibleWhen;return!b?!1:Array.isArray(b)?b.includes(a):b===a};d.render=function(){var a=this.state.vpc;if(!a)return null;var b=a.isPlayRequestPending(),c=a.isBuffering();if(b||c)return k.jsx("i",{className:"_5l7x"});if(!this.$1(a))return null;b=i._("Ph\u00e1t video");return k.jsx("i",{className:"_3htz _1jto _bsl"+(((c=this.props.isHidden)!=null?c:!1)?" hidden_elem":""),onClick:this.$2,role:"presentation",children:k.jsx("input",{"aria-label":b,type:"button",className:"_yak"})})};d.enable=function(a){this.setState({vpc:a})};d.disable=function(){};return b}(k.Component);b=d("VideoComponent").createContainer(a,{observedVpcEvents:["stateChange","bufferingChanged","pendingPlayRequestChanged","VideoControls/visibilityUpdate"]});g["default"]=b}),226);
__d("XVideoDataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_data_async/",{video_id:{type:"String",required:!0},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:!0},is_ad:{type:"Bool",defaultValue:!1},force_flash:{type:"Bool",defaultValue:!1},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:!1},allow_dash_prefetch:{type:"Bool",defaultValue:!1},force_hd:{type:"Bool",defaultValue:!1},host_number:{type:"Int"},include_extra_drm_info:{type:"Bool",defaultValue:!0}})}),null);
__d("VideoDataAsyncControllerUri",["XVideoDataAsyncController"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.getURI=function(a,b,d,e,f,g,h,i){a=c("XVideoDataAsyncController").getURIBuilder().setString("video_id",a.toString()).setBool("supports_html5_video",b);d!==void 0&&(a=a.setBool("force_flash",d));e!==void 0&&(a=a.setBool("allow_dash_prefetch",e));f!==void 0&&(a=a.setBool("force_hd",f));g!==void 0&&(a=a.setInt("host_number",g));h!==void 0&&(a=a.setBool("include_extra_drm_info",h));i!==void 0&&(a=a.setString("source",i));return a.getURI()};return a}();g["default"]=a}),98);
__d("VideoPlayerMetaData",["ActorURI","AsyncRequest","ErrorMetadata","ErrorSerializer","FBLogger","Promise","TimeSlice","VideoData","VideoDataAsyncControllerUri","asyncToGeneratorRuntime","clearTimeout","err","getErrorSafe","isHTML5VideoImplementationUnavailable","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i={},j=12e4;a=function(){function a(a,b){this.$3=null;this.$3=b;if(!/^[0-9]+$/.test(a)){var d,e;b=c("err")("VideoPlayerMetaData constructor called with invalid video ID: %s",a);if(((d=this.$3)==null?void 0:d.reactComponentStack)!=null){c("ErrorSerializer").aggregateError(b,{componentStack:(d=this.$3)==null?void 0:d.reactComponentStack})}b.project="www_blue_video_player";d=(d=b.messageFormat)!=null?d:b.message;e=b.messageFormat!=null?(e=b.messageParams)!=null?e:[]:[];(b=c("FBLogger")(b.project).catching(b)).warn.apply(b,[d].concat(e))}this.videoID=a}var e=a.prototype;e.getVideoID=function(){return this.videoID};e.genVideoData=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){var e=this;try{var f=this.$1;(!f||a.forceRefetch===!0)&&(this.$2&&(c("clearTimeout")(this.$2),this.$2=null),f=this.$1=this.$4(a,b),this.$2=c("setTimeout")(c("TimeSlice").guard(function(){e.$1=null,d()},"VideoPlayerMetaData cacheTimeout",{propagationType:c("TimeSlice").PropagationType.ORPHAN}),a.cacheTimeout!=null&&a.cacheTimeout!==0?a.cacheTimeout:j));return yield f}catch(a){throw a}});function d(b,c,d){return a.apply(this,arguments)}return d}();e.$4=function(a,e){var f,g=this;f=(f=a==null?void 0:a.uriBuilder)!=null?f:new(c("VideoDataAsyncControllerUri"))();var i=a.forceFlash,j=a.allowDashPrefetch,k=a.forceHD,l=a.hostNumber,m=a.includeExtraDRMInfo,n=a.source,o=a.callerContext,p=f.getURI(this.videoID,!c("isHTML5VideoImplementationUnavailable")(!0),i,j,k,l,m,n);e!=null&&(p=d("ActorURI").create(p,e));return new(h||(h=b("Promise")))(function(a,b){return new(c("AsyncRequest"))(p).setMethod("GET").setURI(p).setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(d){var e=d.payload;if(typeof e!=="object"||e==null||e.error!=null||typeof e.video_id!=="string"){var f,h;d=d.error!==0?c("getErrorSafe")(d.toError()):null;var i=e!=null&&e.error!=null?c("getErrorSafe")(e.error):null;d=c("err")("VideoPlayerMetaData invalid response."+(d!=null?" Response error: "+c("ErrorSerializer").toReadableMessage(d):" No response error.")+(i!=null?" Payload error: "+c("ErrorSerializer").toReadableMessage(i):typeof e!=="object"||e==null?" Payload is "+String(e)+".":" Payload is invalid: "+Object.keys(e).join(","))+" Video ID: %s",g.videoID);i=(i=o==null?void 0:o.reactComponentStack)!=null?i:(i=g.$3)==null?void 0:i.reactComponentStack;i!=null&&c("ErrorSerializer").aggregateError(d,{componentStack:i});i=(i=d.metadata)!=null?i:new(c("ErrorMetadata"))();i.addEntry("COMET_VIDEO","VIDEO_ID",g.videoID);d.metadata=i;d.project="www_blue_video_player";i=(i=d.messageFormat)!=null?i:d.message;f=d.messageFormat!=null?(f=d.messageParams)!=null?f:[]:[];(h=c("FBLogger")(d.project).catching(d)).info.apply(h,[i].concat(f));b(d);return}h=e;a(new(c("VideoData"))(h))}).setErrorHandler(function(a){var d,e,f;a=a.error!==0?c("getErrorSafe")(a.toError()):null;a=c("err")("VideoPlayerMetaData request failed."+(a!=null?" Response error: "+c("ErrorSerializer").toReadableMessage(a):"")+" Video ID: %s",g.videoID);d=(d=a.metadata)!=null?d:new(c("ErrorMetadata"))();d.addEntry("COMET_VIDEO","VIDEO_ID",g.videoID);a.metadata=d;a.project="www_blue_video_player";d=(d=a.messageFormat)!=null?d:a.message;e=a.messageFormat!=null?(e=a.messageParams)!=null?e:[]:[];(f=c("FBLogger")(a.project).catching(a)).info.apply(f,[d].concat(e));b(a)}).send()})};a.get=function(b,c){i[b]||(i[b]=new a(b,c));return i[b]};a.genVideoData=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c,d,e){c===void 0&&(c={});d===void 0&&(d=void 0);e===void 0&&(e=function(){});return yield a.get(b,(b=c)==null?void 0:b.callerContext).genVideoData(c,d,e)});function d(a,b,d,e){return c.apply(this,arguments)}return d}();return a}();g["default"]=a}),98);
__d("VideoDataContainer.react",["cx","invariant","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","ErrorSerializer","FBLogger","VideoData","VideoPlayer.react","VideoPlayerMetaData","asyncToGeneratorRuntime","cr:6192","err","getErrorSafe","promiseDone","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");e=(a=b("cr:6192"))!=null?a:{ReactComponentStackExtractor:null};var l=e.ReactComponentStackExtractor;f=function(a){babelHelpers.inheritsLoose(d,a);function d(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.$2=null,c.$3=null,c.$4=!1,c.state={errorData:null,isLoading:!0,prevVideoID:c.props.videoID,videoData:null},b)||babelHelpers.assertThisInitialized(c)}d.renderSpinner=function(a,b){return k.jsx("div",{className:"_53j5",style:{height:b,width:a},children:k.jsx("i",{className:"_5l7x"})})};d.getDerivedStateFromProps=function(a,b){return a.videoID!==b.prevVideoID?{errorData:null,isLoading:!0,prevVideoID:a.videoID,videoData:null}:{}};var e=d.prototype;e.componentDidMount=function(){var a=this.props.shouldResetUnmountedState===!0;a&&(this.$1=!1);c("promiseDone")(this.$5(this.props))};e.componentDidUpdate=function(a,b){if(a.actorID!==this.props.actorID||a.videoID!==this.props.videoID||((a=a.videoDataConfig)==null?void 0:a.hostNumber)!==((a=this.props.videoDataConfig)==null?void 0:a.hostNumber))c("promiseDone")(this.$5(this.props));else if(b.videoData!==this.state.videoData){a=this.props.onVideoLoaded;typeof a==="function"&&a()}};e.componentWillUnmount=function(){this.$1=!0};e.render=function(){var a=this,b=this.state,e=b.isLoading,f=b.videoData;b=b.errorData;if(b)return this.props.renderError?this.props.renderError(b):null;b=this.props.renderLoading;if(e&&b)return b();if(!f||f===d.VIDEO_DATA_PLACEHOLDER)return null;e=this.props.children;e!=null&&c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).type===c("VideoPlayer.react")||i(0,2154);if(l)return k.jsxs(k.Fragment,{children:[k.cloneElement(e,{videoData:f}),k.jsx(l,{onComponentStackReady:function(b){a.$3=b;if(!a.$4){var d;a.$4=!0;var e=c("err")("VideoDataContainer usage");c("ErrorSerializer").aggregateError(e,{componentStack:b});e.project="www_blue_video_player";b=(b=e.messageFormat)!=null?b:e.message;d=e.messageFormat!=null?(d=e.messageParams)!=null?d:[]:[];(e=c("FBLogger")(e.project,"www_blue_video_player_video_data_container_usage").catching(e)).info.apply(e,[b].concat(d))}}})]});else return k.cloneElement(e,{videoData:f})};e.$5=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;this.$2=a.videoID;var d=null;b=(b=a.igVideoData)!=null?b:null;var e=a.igVideoData!==void 0;if(!e)try{b=(yield c("VideoPlayerMetaData").genVideoData(a.videoID,l?babelHelpers["extends"]({},a.videoDataConfig,{callerContext:babelHelpers["extends"]({},(e=a.videoDataConfig)==null?void 0:e.callerContext,{reactComponentStack:(e=this.$3)!=null?e:(e=a.videoDataConfig)==null?void 0:(e=e.callerContext)==null?void 0:e.reactComponentStack})}):a.videoDataConfig,a.actorID));if(this.$2!==a.videoID)return;if(this.$1||a.isUnmountScheduled===!0)return;if(this.$2!==a.videoID)return}catch(a){d=c("getErrorSafe")(a)}if(!this.$1)if(d!==null){e=a.onError;e&&e(d);this.setState({errorData:d})}else this.setState({videoData:b,isLoading:!1})});function d(b){return a.apply(this,arguments)}return d}();return d}(k.Component);f.VIDEO_DATA_PLACEHOLDER=new(c("VideoData"))();g["default"]=f}),98);